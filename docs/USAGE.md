# Slack 使い方ガイド

ボットへの指示はすべて `@ai-slack-cal-connect` メンション付きで送信します。

## 1. 予定の確認

自分や他の人のカレンダーの予定・空き時間を確認できます。

```
@ai-slack-cal-connect @田中 の予定教えて
```

```
@ai-slack-cal-connect @佐藤 の明日の予定を確認して
```

```
@ai-slack-cal-connect tanaka@example.com の予定教えて
```

- 日付を省略すると **今日** の予定を表示します
- `@ユーザー名` のメンションは自動的にメールアドレスに変換されます
- メールアドレスを直接指定することもできます

### 日付の指定例

```
@ai-slack-cal-connect @田中 の2025-02-10の予定を教えて
```

## 2. 空き時間の検索

複数人の空き時間を検索し、MTGの候補を提案します。

```
@ai-slack-cal-connect @田中 と @佐藤 の空き時間を探して
```

```
@ai-slack-cal-connect @田中 と @佐藤 で明日1時間のMTGを設定したい
```

```
@ai-slack-cal-connect @田中 と @佐藤 の明日の午後の空きを教えて
```

- デフォルトの検索範囲は 9:00〜18:00 です
- 午前・午後などの指定も可能です
- 所要時間のデフォルトは 60 分です
- 候補は最大5件表示されます

### 候補からの予約

1. 候補一覧の **「この時間で予約」** ボタンをクリック
2. モーダルが開き、**イベント名を確認・編集**できます
3. **「予約する」** をクリックするとカレンダーにイベントが作成されます

## 3. イベントの作成

必要な情報（参加者・時間・件名）が揃っている場合、AIが直接イベント作成を提案します。

```
@ai-slack-cal-connect @田中 と @佐藤 で明日14:00-15:00に定例MTGを作成して
```

```
@ai-slack-cal-connect 明日10:00から30分、@田中 と打ち合わせを設定して
```

### 作成の流れ

1. AIがイベント内容を確認ボタン付きで表示します
2. **「予約する」** ボタンをクリック
3. モーダルが開き、**イベント名を確認・編集**できます
4. **「予約する」** をクリックするとカレンダーにイベントが作成されます

- 参加者全員に Google Calendar の招待メールが送信されます
- 件名を指定しない場合は「ミーティング」になります
- 終了時刻を省略すると開始から1時間後になります

## 4. リスケジュール

既存のイベントを別の時間に変更できます。

### 候補から選ぶ（おすすめ）

```
@ai-slack-cal-connect 定例MTGをリスケして
```

```
@ai-slack-cal-connect @田中 との打ち合わせを明日にずらしたい
```

1. AIがイベントをタイトルで検索し、参加者全員の空き時間から候補を最大3件提案します
2. **「この時間に変更」** ボタンをクリックすると即座にリスケが実行されます
3. 参加者全員に変更通知が送信されます

- 指定日に空きが少ない場合、翌営業日の候補も表示されます

### 直接時間を指定

```
@ai-slack-cal-connect 定例MTGを明日の14時に変更して
```

- 具体的な時間を指定するとそのまま変更されます

## 5. 営業日について

- **営業時間**: 9:00〜18:00（JST）
- **営業日**: 月曜〜金曜（土日・祝日を除く）
- 土日祝に予定を作成しようとすると警告が表示されます

## 6. 初回利用時（Google 認証）

初めて利用する際は Google Calendar へのアクセス許可が必要です。

1. ボットが **「Google認証」** ボタンを表示します
2. ボタンをクリックして Google の認証画面で許可します
3. 認証完了後、元のリクエストが **自動的に再実行** されます（再度メンションする必要はありません）
